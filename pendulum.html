<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Double Pendulum Simulation - topaz1008</title>
    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@latest/css/pico.min.css">
    <link rel="stylesheet" href="assets/style.css">
</head>
<body>

<div id="loading-spinner hidden" class="" aria-busy="true">&nbsp;&nbsp;Loading...</div>

<header id="header" class="">
    <h3>Double Pendulum</h3>
    <details open>
        <summary>More info</summary>
        <p>This demo shows how very small changes in initial conditions can make for a very different
            behaviour of the system in a very short time; thus making it a chaotic system.</p>
        <p>The demo starts with 2 double pendulums; one <i class="green">green</i> and one <i class="blue">blue</i>
            using nearly the same initial conditions, one pendulum has one of its
            starting angles changed by <span style="font-size: 25px;">$\epsilon$</span> (default is $1/10,000$) even
            with that small of a change the different
            pendulums will start to diverge after about 5-7 seconds.</p>

        <p style="color: red; border: 1px red solid; padding: 5px;">
            <!-- TODO: remove this when everything works -->
            NOTE: Value manipulation is WIP. some work, some dont.
        </p>
    </details>
    <details>
        <summary>Source Code</summary>
        <p>Can be found on <a href="https://github.com/topaz1008/double-pendulum" target="_blank">Github</a>.</p>
    </details>
    <details>
        <summary>Credits</summary>
        <p>This demo uses <a href="https://picocss.com/" target="_blank">Pico.css</a> library for styling and <a
                href="https://www.mathjax.org/" target="_blank">MathJax</a> to parse and display LaTeX math formulas.
        </p>
    </details>
</header>

<main id="main" class="t1008-grid"> <!-- t1008-grid -->
    <div id="gui-container" class="controls">

    </div>
    <div id="canvas-container">
        <section id="main-container" class="">
            <!-- main canvas goes here -->
        </section>

        <section id="plot-container" class="">
            <!-- plot canvas goes here -->
        </section>
    </div>
</main>

<!-- Scripts -->
<script>
    // (function (window) {
    //     // This will parse any LaTeX found on the page
    //     // and render it as svg math formula
    //
    //     // This is really stupid
    //     // Sometime MathJax fails to load and the entire page hangs.
    //     // So we give it 3 seconds to load, if not, we continue without it.
    //     // FIXME: Consider using an npm installed version instead of cdn and package it with webpack
    //     let pageReadyCalled = false;
    //     setTimeout(() => {
    //         if (pageReadyCalled === false) {
    //             console.warn('Loading MathJax failed, continue without it.');
    //             unHide();
    //         }
    //     }, 3000);
    //
    //     function unHide() {
    //         // Everything starts as hidden.
    //         // When MathJax is finished parsing the page, we un-hide it.
    //         const header = document.getElementById('header');
    //         const main = document.getElementById('main');
    //         const spinner = document.getElementById('loading-spinner');
    //         if (spinner === null || header === null || main === null) {
    //             throw new Error('Header, main, or spinner elements not found.');
    //         }
    //
    //         // Un-hide header and hide spinner
    //         header.classList.remove('hidden');
    //         spinner.classList.add('hidden');
    //
    //         // Un-hide main section
    //         main.classList.remove('hidden');
    //         main.classList.add('t1008-grid');
    //     }
    //
    //     window.MathJax = {
    //         tex: { inlineMath: [['$', '$'], ['\\(', '\\)']] },
    //         svg: { fontCache: 'global' },
    //         // Disable MathJax right click menu.
    //         options: { renderActions: { addMenu: [] } },
    //         startup: {
    //             'pageReady': () => {
    //                 // Called by MathJax when it is done parsing the page.
    //                 return MathJax.startup.defaultPageReady().then(() => {
    //                     pageReadyCalled = true;
    //                     unHide();
    //                 });
    //             }
    //         }
    //     };
    //
    // })(window);
</script>
<!--<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>-->
<script src="src/main.js" type="module"></script>

</body>
</html>
